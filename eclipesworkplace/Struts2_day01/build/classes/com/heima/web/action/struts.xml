<?xml version="1.0" encoding="UTF-8"?>
  <!DOCTYPE struts PUBLIC
	"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN"
	"http://struts.apache.org/dtds/struts-2.3.dtd">
	<struts>
		<!--保持预热，在设置为TRUE 时 配置文件更改的情况下 可以不重启服务器而有效  -->
		<constant name="struts.devMode" value="true"></constant>
		<package name="customer" namespace="/" extends="struts-default">
			<interceptors>
				<!-- 自定义拦截器 -->
				<interceptor name="loginInterceptor" class="com.heima.interceptor.Logininterceptor"></interceptor>
				<!-- 自定义栈 -->
				<interceptor-stack name="mystack">
				<!-- 引入自定义的 -->
					<interceptor-ref name="loginInterceptor">
						<param name="excludeMethods">login</param>
					</interceptor-ref>	
					<!-- 引入默认的20个拦截器 -->
					<interceptor-ref name="defaultStack"></interceptor-ref>
				</interceptor-stack>
			</interceptors>
			<!-- 定义包中的默认拦截器栈 -->
			<default-interceptor-ref name="mystack"></default-interceptor-ref>
			<global-results>
				<result name="tologin" type="redirect">/login.jsp</result>
			</global-results>
			<global-exception-mappings>
				<exception-mapping result="error" exception="java.lang.RuntimeException">
				</exception-mapping>
			</global-exception-mappings>
			<action name="customer_*" class="com.heima.web.action.CustomerAction" method="{1}">
				<result name="list">/jsp/customer/list.jsp</result>
				<result name="tolist" type="redirectAction">
					<param name="actionName">customer_listcustomer</param>
                    <param name="namespace">/</param>
				</result>
			</action>
			<action name="user_*" class="com.heima.web.action.UserAction" method="{1}">
				<result name="tomyhome" type="redirect">/index.htm</result>
				<result name="error">/login.jsp</result>
			</action>
		</package>
	</struts>